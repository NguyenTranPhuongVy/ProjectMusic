@using ProjectMusicSound.Models
@model User
@{
    ViewBag.Title = "Profile";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@{
    MusicDataEntities db = new MusicDataEntities();
    HttpCookie httpCookie = Request.Cookies["user_id"];
    User user = db.Users.Find(int.Parse(httpCookie.Value.ToString()));
    List<Profile> profile = db.Profiles.ToList();
}
<style>
    .canchinh {
        margin-top: 10%;
        margin-bottom: 10%;
    }
</style>
<!------ Include the above in your HEAD tag ---------->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/MaterialDesign-Webfont/4.4.95/css/materialdesignicons.css">
<link href="~/Content/Layout/css/profile.css" rel="stylesheet" />
<!-- partial -->
<!-- ##### Header Area Start ##### -->
@Html.Action("MenuUser", "View")
<div class="canchinh">
    <div class="main-panel">
        <div class="container">
            <div class="row">
                <div class="col-md-4 grid-margin stretch-card">
                    <div class="card">
                        <div class="profile-card">

                            <div class="profile-header">

                                <div class="cover-image">
                                    <img src="~/Images/User/@user.user_img" class="img img-fluid" style="width: 100%">
                                </div>
                                <div class="user-image">
                                    <img src="~/Images/User/@user.user_img" class="img ">
                                </div>
                            </div>

                            <div class="profile-content">
                                <div class="profile-name">@user.user_name</div>
                                @if (user.role_id == 1)
                                {
                                    <div class="profile-designation">Người Dùng</div>
                                }
                                <p class="profile-description">Hồ sơ cá nhân.</p>
                                <ul class="profile-info-list">
                                    <a href="" class="profile-info-list-item"><i class="mdi mdi-eye"></i>Xem Trang Cá Nhân</a>
                                    <a href="@Url.Action("EditPass", "Users", new { id = user.user_id})" class="profile-info-list-item"><i class="mdi mdi-bookmark-check"></i>Thay Đổi Mật Khẩu</a>
                                    <a href="" class="profile-info-list-item"><i class="mdi mdi-account"></i>Thay Đổi Thông Tin Cá Nhân</a>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-8 grid-margin stretch-card">
                    <div class="card">
                        <div class="card-body">
                            <p class="card-title font-weight-bold">Giới Thiệu Chung</p>
                            <hr>
                            <p class="card-description">Thông Tin Cá Nhân</p>
                            <ul class="about">
                                <li class="about-items"><i class="mdi mdi-account icon-sm "></i><span class="about-item-name">Tên Đăng Nhập:</span><span class="about-item-detail">@user.user_name</span><a data-toggle="collapse" href="#name" role="button" aria-expanded="false" aria-controls="name" class="about-item-edit">Edit</a></li>
                                <li class="collapse" id="name">
                                    <div class="card card-body">
                                        <form class="ui form" method="post" action="@Url.Action("EditName", "Users", new { id = user.user_id})">
                                            <div class="field">
                                                <label>Tên Đăng Nhập</label>
                                                <input value="@user.user_name" name="user_name" type="text">
                                            </div>
                                            <div class="ui primary submit button">Submit</div>
                                            <div class="ui error message"></div>
                                        </form>
                                    </div>
                                </li>
                                <!--End Collapse-->
                                @foreach (var item in profile.Where(n => n.user_id == user.user_id))
                                {
                                    <li class="about-items">
                                        <i class="mdi mdi-mail-ru icon-sm "></i>
                                        <span class="about-item-name">Họ Và Tên:</span>
                                        <span class="about-item-detail">
                                            @if (item.profile_lastname == null || item.profile_name == null)
                                            {
                                                @:Chưa có dữ liệu
                                            }
                                            else
                                            {
                                                @item.profile_lastname @item.profile_name
                                            }
                                        </span>
                                        <a href="" class="about-item-edit">Edit</a>
                                    </li>
                                }
                                @foreach (var item in profile.Where(n => n.user_id == user.user_id))
                                {
                                    <li class="about-items">
                                        <i class="mdi mdi-format-align-left icon-sm "></i>
                                        <span class="about-item-name">Ghi Chú:</span>
                                        <span class="about-item-detail">
                                            @if(item.profile_note == null)
                                            {
                                                @:Chưa có dữ liệu
                                            }
                                            else
                                            {
                                                @item.profile_note
                                            }
                                        </span>
                                        <a href="" class="about-item-edit">Edit</a>
                                    </li>
                                }
                            </ul>
                            <p class="card-description">Thông Tin Liên Hệ</p>
                            <ul class="about">
                                @foreach (var item in profile.Where(n => n.user_id == user.user_id))
                                {
                                    <li class="about-items">
                                        <i class="mdi mdi-phone icon-sm "></i>
                                        <span class="about-item-name">Số Điện Thoại:</span>
                                        <span class="about-item-detail">
                                            @if (item.profile_phone == null)
                                            {
                                                @:Chưa có dữ liệu
                                            }
                                            else
                                            {
                                                @item.profile_phone
                                            }
                                        </span>
                                        <a data-toggle="collapse" href="#phone" role="button" aria-expanded="false" aria-controls="phone" class="about-item-edit">Edit</a>
                                    </li>
                                    <li class="collapse" id="phone">
                                        <div class="card card-body">
                                            <form class="ui form" method="post" action="@Url.Action("EditPhone", "Users", new { id = item.profile_id})">
                                                <div class="field">
                                                    <label>Số điện thoại</label>
                                                    <input value="@item.profile_phone" name="profile_phone" type="text">
                                                </div>
                                                <div class="ui primary submit button">Submit</div>
                                                <div class="ui error message"></div>
                                            </form>
                                        </div>
                                    </li>
                                }
                                <li class="about-items"><i class="mdi mdi-map-marker icon-sm "></i><span class="about-item-name">Address:</span><span class="about-item-detail">254 National Highway , Hisar India</span> <a href="" class="about-item-edit">Edit</a></li>
                                <li class="about-items"><i class="mdi mdi-email-outline icon-sm "></i><span class="about-item-name">Email:</span><span class="about-item-detail"><a href="">@user.user_email</a></span> <a href="" class="about-item-edit">Edit</a></li>
                                <li class="about-items"><i class="mdi mdi-web icon-sm "></i><span class="about-item-name">Site:</span><span class="about-item-detail"><a href="google.com">www.google.com</a></span> <a href="" class="about-item-edit">Edit</a></li>
                            </ul>
                            <p class="card-description">Basic Information</p>
                            <ul class="about">
                                <li class="about-items"><i class="mdi mdi-cake icon-sm "></i><span class="about-item-name">Birthday:</span><span class="about-item-detail">Aug 3 , 1998</span><a href="" class="about-item-edit">Edit</a></li>
                                <li class="about-items"><i class="mdi mdi-account icon-sm "></i><span class="about-item-name">Gender:</span><span class="about-item-detail">Male</span> <a href="" class="about-item-edit">Edit</a></li>
                                <li class="about-items"><i class="mdi mdi-clipboard-account icon-sm "></i><span class="about-item-name">Profession:</span><span class="about-item-detail">Student</span> <a href="" class="about-item-edit">Edit</a></li>
                                <li class="about-items"><i class="mdi mdi-water icon-sm "></i><span class="about-item-name">Blood Group:</span><span class="about-item-detail">AB+</span> <a href="" class="about-item-edit">Edit</a></li>
                                <li class="about-items"><i class="mdi mdi-human-male-female icon-sm "></i><span class="about-item-name">Relationship Status:</span><span class="about-item-detail">Single</span> <a href="" class="about-item-edit">Edit</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- content-wrapper ends -->
        <!-- partial:partials/_footer.html -->
        <?php include'includes/admin_footer.php' ?>
        <!-- partial -->
    </div>
</div>
